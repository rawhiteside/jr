---
2: Apiaries
1: true
Parameter set 1:
  code.code: '# Type Ruby code here.'
  repeat: One time
  path: |
    travel 'Bricks CP'
    -1010, -6791

    fill_jugs
  custom_text_0: ''
  custom_text_1: ''
  custom_text_2: ''
Apiaries:
  code.code: "# Setup:\n# - Camera F7\n# - Face North as closely as you can.\n# -\
    \ Zoom all the way in, then back out 4 clicks.\n# Good luck!\n\ndef apiary\n \
    \ pb_subimage = PixelBlock.load_image('images/apiary-f8-zoom4.png')\n  sleep 0.8\
    \  # Wait for running to stop.\n  height = screen_size.height\n  half = height\
    \ / 2\n\n  width = screen_size.width\n  quarter_width = width / 4\n  search_rect\
    \ = Rectangle.new(quarter_width, half, quarter_width * 2, height - half)\n  pt\
    \ = find_template_best pb_subimage, 25, search_rect\n  \n  stat_wait :spd\n  if\
    \ pt\n    mm pt\n    sleep 0.01\n    send_string 't', 0.2\n    send_string 'c'\n\
    \  end\n  pw = PopupWindow.find\n  pw.dismiss if pw\nend\n\ndef stash\n  return\
    \    # XXX Turn stashing off.\n  sleep 0.3\n  win = find_and_pin 'Warehouse'\n\
    \  if win\n    HowMuch.max if win.click_on 'Stash/Honey'\n    HowMuch.max if win.click_on\
    \ 'Stash/Beeswax'\n    win.unpin\n  else\n    puts \"Didn't find warehouse.\"\n\
    \  end\nend\n\n"
  repeat: One time
  path: "travel \"Apiaries\"\n-929, -6750\n\n# West desert line\n-929, -6748\napiary\t\
    \n-929, -6745\napiary\t\n-929, -6742\napiary\t\n-929, -6739\napiary\t\n-929, -6736\n\
    apiary\t\n-929, -6733\napiary\t\n-929, -6730\napiary\t\n-929, -6727\napiary\t\n\
    -929, -6724\napiary\t\n-929, -6721\napiary\t\n-929, -6718\napiary\t\n-929, -6715\n\
    apiary\t\n-929, -6712\napiary\t\n-929, -6709\napiary\t\n-929, -6706\napiary\t\n\
    -929, -6703\napiary\t\n-929, -6700\napiary\t\n-929, -6697\napiary\t\n-929, -6694\n\
    apiary\t\n-929, -6691\napiary\t\n-929, -6688\napiary\t\n-929, -6685\napiary\t\n\
    -929, -6682\napiary\t\n-929, -6679\napiary\t\n-929, -6676\napiary\t\n-929, -6673\n\
    apiary\t\n-929, -6670\napiary\t\n-929, -6667\napiary\t\n-929, -6664\napiary\t\n\
    -929, -6661\napiary\t\n-929, -6658\napiary\t\n-929, -6655\napiary\t\n-929, -6652\n\
    apiary\t\n-929, -6649\napiary\t\n-929, -6646\napiary\t\n-929, -6643\napiary\t\n\
    -929, -6640\napiary\t\n-929, -6637\napiary\t\n-929, -6634\napiary\t\n-929, -6631\n\
    apiary\t\n-929, -6628\napiary\t\n-929, -6625\napiary\t\n-929, -6622\napiary\t\n\
    -929, -6619\napiary\t\n-929, -6616\napiary\t\n-929, -6613\napiary\t\n-929, -6610\n\
    apiary\t\n-929, -6607\napiary\t\n-929, -6604\napiary\t\n-929, -6601\napiary\t\n\
    \n\n# East desert line\n-919,-6602\napiary\n-919,-6605\napiary\n-919,-6608\napiary\n\
    -919,-6611\napiary\n-919,-6614\napiary\n-919,-6617\napiary\n-919,-6620\napiary\n\
    -919,-6623\napiary\n-919,-6626\napiary\n-919,-6629\napiary\n-919,-6632\napiary\n\
    -919,-6635\napiary\n-919,-6638\napiary\n-919,-6641\napiary\n-919,-6644\napiary\n\
    -919,-6647\napiary\n-919,-6650\napiary\n-919,-6653\napiary\n-919,-6656\napiary\n\
    -919,-6659\napiary\n-919,-6662\napiary\n-919,-6665\napiary\n-919,-6668\napiary\n\
    -919,-6671\napiary\n-919,-6674\napiary\n-919,-6677\napiary\n-919,-6680\napiary\n\
    -919,-6683\napiary\n-919,-6686\napiary\n-919,-6689\napiary\n-919,-6692\napiary\n\
    -919,-6695\napiary\n-919,-6698\napiary\n-919,-6701\napiary\n-919,-6704\napiary\n\
    -919,-6707\napiary\n-919,-6710\napiary\n-919,-6713\napiary\n-919,-6716\napiary\n\
    -919,-6719\napiary\n-919,-6722\napiary\n-919,-6725\napiary\n-919,-6728\napiary\n\
    -919,-6731\napiary\n-919,-6734\napiary\n-919,-6737\napiary\n-919,-6740\napiary\n\
    -919,-6743\napiary\n-919,-6746\napiary\n-919,-6749\napiary\n\n# Science desert\
    \ line\n-912,-6745\napiary\n-912,-6748\napiary\n-912,-6751\napiary\n-913,-6754\n\
    apiary\n-913,-6757\napiary\n-913,-6760\napiary\n-913,-6763\napiary\n-913,-6766\n\
    apiary\n-913,-6769\napiary\n-912,-6772\napiary\n-912,-6775\napiary\n-912,-6778\n\
    apiary\n-912,-6781\napiary\n-912,-6784\napiary\n-912,-6787\napiary\n-912,-6790\n\
    apiary\n-912,-6793\napiary\n-912,-6796\napiary\n-912,-6799\napiary\n-912,-6802\n\
    apiary\n-910,-6802\napiary\n-907,-6802\napiary\n-904,-6802\napiary\n-901,-6802\n\
    apiary\n-898,-6802\napiary\n-895,-6802\napiary\n-892,-6802\napiary\n-889,-6802\n\
    apiary\n-886,-6802\napiary\n-883,-6802\napiary\n-880,-6802\napiary\n-877,-6802\n\
    apiary\n-874,-6802\napiary\n-871,-6802\napiary\n-868,-6802\napiary\n-865,-6802\n\
    apiary\n-862,-6802\napiary\n-859,-6799\n-859,-6800\napiary\n-858, -6797\n-857,-6797\n\
    -857,-6798\napiary\n-854,-6798\napiary\n# Back to stash\n-865, -6794\n-880, -6789\n\
    -894, -6784\n-957, -6775\n"
  path.custom_text_0: apiary
  path.custom_text_1: ''
Tree run:
  code.code: |+
    @tree_loop_count = 0
    def wood
      sleep 1
      spam 'g'
      sleep 1
    end
    def resin
      sleep 1
      spam 'r' if (@tree_loop_count % 4) == 3
    end
    def stash
      sleep 2
      w = find_and_pin 'WH-nw'
      sleep 0.5
      HowMuch.max if w.click_on 'Stash/Wood'
      w.click_on 'Stash/Resin./All'
      w.click_on 'Stash/Insect/All'
      HowMuch.max if w.click_on 'Stash/Thorns'
      w.unpin
    end

  repeat: Repeat
  path: "# Start at wood WH\n-981, -6776\nstash\n-1015, -6800\nspam 'h'\n-1018, -6800\n\
    spam 'h'\n-1018, -6814\n-1018, -6820\nwood\nresin\n-1019, -6825\nwood\nresin\n\
    -1012, -6816\nresin\nwood\n-1010, -6819\nresin\n-1007, -6829\nwood\nresin\n-1010,\
    \ -6842\nwood\nresin\n-1004, -6845\nwood\nresin\n-1005, -6855\n-1010, -6858\n\
    resin\nwood\n-1005, -6862\nwood\nresin\n-1007, -6868\nresin\nwood\n-1006, -6873\n\
    resin\nwood\n-999, -6879\n-999, -6883\n-1004, -6888\n-1007, -6888\n-1008, -6884\n\
    -1009, -6884\n-1009, -6878\n-1016, -6871\n-1016, -6868\n-1023, -6870\n-1030, -6871\n\
    -1030, -6881\n-1032, -6882\nwood\nresin\n-1037, -6881\n-1039, -6902\nwood\nresin\n\
    -1039, -6906\n-1040, -6906\nwood\nresin\n-1040, -6912\n-1031, -6912\nwood\nresin\n\
    -1035, -6916\n-1036, -6929\n-1040, -6930\n# Bottom of ridge. \n-1052, -6931\n\
    -1052, -6904\n-1044, -6904\nwood\nresin\n-1059, -6904\n-1059, -6902\nwood\n-1053,\
    \ -6902\n-1053, -6881\n-1046, -6874\nresin\nwood\n-1054, -6874\n-1058, -6870\n\
    # Spiked fish tree.\nwood\nresin\n\n# -----------------\n# Inserting southern\
    \ run here. \n-1058, -6870\n-1055, -6870\n-1055, -6878\n-1099, -6877\n-1103, -6877\n\
    wood\nresin\n-1080, -6892\n-1082, -6925\n-1089, -6932\n-1089, -6943\n-1103, -6958\n\
    -1108, -6958\nresin\nwood\n-1113, -6963\n-1113, -6964\nresin\nwood\n-1130, -6961\n\
    resin\nwood\n-1130, -6969\n-1167, -6972\nresin\nwood\n-1174, -6972\nresin\nwood\n\
    -1203, -7042\nresin\nwood\n-1206, -7089\n-1222, -7105\n-1231, -7105\n-1260, -7134\n\
    # 3x bottle trees\n-1262, -7158\nresin\nwood\n-1266, -7173\nresin\nwood\n-1268,\
    \ -7173\n-1268, -7182\n-1264, -7185\n-1264, -7190\nresin\nwood\n-1263, -7193\n\
    resin\nwood\n-1259, -7197\nresin\nwood\n-1262, -7198\nresin\nwood\n-1261, -7191\n\
    resin\nwood\n-1255, -7193\nresin\nwood\n-1253, -7188\nresin\nwood\n-1259, -7186\n\
    resin\nwood\n-1241, -7186\n-1229, -7196\nresin\nwood\n-1224, -7187\n-1220, -7185\n\
    resin\nwood\n-1217, -7183\nresin\nwood\n-1219, -7180\nresin\nwood\n-1219, -7176\n\
    -1188, -7176\n-1185, -7178\nresin\nwood\n-1186, -7140\n-1181, -7097\n-1185, -7089\n\
    -1193, -7089\n-1193, -7063\n-1195, -7043\n-1118, -7043\n-1114, -7017\nresin\n\
    wood\n-1113, -7017\nresin\nwood\n-1110, -7017\nresin\nwood\n-1108, -7017\nresin\n\
    wood\n-1094, -7017\n-1086, -7009\n-1079, -7007\nresin\nwood\n-1082, -6998\nresin\n\
    wood\n-1087, -6995\nresin\nwood\n-1098, -6983\n-1085, -6970\n-1079, -6972\nresin\n\
    wood\n-1075, -6972\nresin\nwood\n-1076, -6968\nresin\nwood\n-1079, -6953\n-1069,\
    \ -6944\n-1069, -6911\n-1072, -6911\n-1072, -6895\n-1064, -6888\n-1057, -6888\n\
    -1044, -6900\n-1044, -6905\nresin\nwood\n-1044, -6879\n-1047, -6876\n-1046, -6875\n\
    resin\nwood\n-1052, -6869\n\n\n# ------\n# insertions above here.\n-1047, -6859\n\
    -1036, -6858\nwood\nresin\n-1035, -6867\nwood\nresin\n# Back to front of the ridge.\
    \ \n# Now, go do the east field.\n-1036, -6818\n-970, -6795\nwood\nresin\n-970,\
    \ -6807\n-961, -6804\nwood\nresin\n-962, -6811\n-942, -6821\nresin\nwood\n# Go\
    \ to altar group\n-922, -6814\n-923, -6801\n-915, -6799\nwood\nresin\n-915, -6796\n\
    wood\nresin\n-916, -6794\nwood\nresin\n-915, -6792\nwood\n-916, -6787\nresin\n\
    wood\n-920, -6787\nresin\nwood\n-926, -6787\nwood\nresin\n-928, -6787\nresin\n\
    wood\n-930, -6791\nresin\nwood\n-931, -6792\nresin\nwood\n-930, -6795\nwood\n\
    resin\n-930, -6800\nresin\nwood\n# Done with altar.  \n# East clump next. \n-922,\
    \ -6800\n-923, -6813\n-904, -6832\nresin\nwood\n-902, -6833\nresin\nwood\n-903,\
    \ -6834\nresin\nwood\n-902, -6838\nresin\nwood\n-903, -6839\nresin\nwood\n-903,\
    \ -6841\nwood\nresin\n# Back to WH.\n-971, -6814\n-980, -6808\n-982, -6776\n@tree_loop_count\
    \ += 1\n\n\n\n\n\n"
  custom_text_0: resin
  custom_text_1: wood
Fetch salt water:
  code.code: '# Type Ruby code here.'
  repeat: One time
  path: |+
    travel 'Salt Water Lake'
    fill_jugs
    travel 'Bricks CP'

  custom_text_0: ''
  custom_text_1: ''
  custom_text_2: ''
Water mines:
  code.code: "# Pin the menus lower left, \n# pile atip each other.  \n# In this order:\n\
    # 1. Deep well itself\n# 2. Well watermine.\n# 3. Kitchen at bricks  CP\n# 4.\
    \ Rocksaws watermine.\n# 5. Forges watermine.\n# --------------------------------------------\n\
    @tile_done = nil\n@mine_hash = {}\n@workers = []\n\ndef water_mine(num)\n  @workers[num].tend\n\
    end\n\ndef kitchen\n  unless SkillsWindow.new.stat_boosted?\n    @kitchen.clean_pot\n\
    \    @kitchen.cook_sink_eat\n    sleep 2\n    @kitchen.refresh\n  end\nend\n\n\
    def deep_well\n  @well.tend_once(false)\nend\n\ndef dig\n  if stat_ok? 'End'\n\
    \    send_string '5'\n  end\nend\n\ndef tile_pinned_windows\n  return if @tile_done\n\
    \  @tile_done = true\n  dim = screen_size\n  tiler = Tiler.new(2, 120)\n  tiler.min_width\
    \ = 270\n  x = 20\n  y = dim.height - 20\n  5.times do |i|\nputs 222\n    win\
    \ = PinnableWindow.from_point(x, y)\n    tiler.tile(win)\n    if i == 4\n    \
    \  @well = DeepWellWindow.new(win)\n    elsif i == 2\n      @kitchen = Kitchen.new(win)\n\
    \    else\n      @workers << WaterMineWorker.new(win, 1200)\n    end\n  end\n\
    \  @workers.reverse!\nend\ntravel 'CP Bricks'\n"
  repeat: Repeat
  path: |+
    # start of run.
    -1019, -6794

    tile_pinned_windows
    deep_well
    water_mine 0
    dig
    -1015, -6798
    # kitchen

    -1018, -6800
    spam 'h', 5, 2
    -1016, -6800
    spam 'h', 5, 3
    -1014, -6800
    spam 'h', 5, 3

    -1012, -6792
    dig
    -1007, -6791
    -1004, -6786
    dig
    -997, -6777
    dig
    -995, -6774


    # Rocksaws
    water_mine 1
    -994, -6774
    -967, -6774
    -967, -6782

    # Forges
    water_mine 2

    -970, -6779
    -983, -6779
    -998, -6794
    -1018, -6794

  path.custom_text_0: ''
  path.custom_text_1: ''
Test:
  code.code: |2+


    def stash
      sleep 0.3
      win = find_and_pin 'Warehouse'
      if win
        HowMuch.max if win.click_on 'Stash/Honey'
        HowMuch.max if win.click_on 'Stash/Beeswax'
        win.unpin
      else
        puts "Didn't find warehouse."
      end
    end

  repeat: One time
  path: |
    stash
  custom_text_0: ''
  custom_text_1: ''
Sheba Dowsing rods:
  code.code: "# Setup:\n# - Standing near the crafting bench\n# - The pinned cactus\
    \ menus in a stack bottom left. \n# - Atop that stack\n# - - The Novice carving\
    \ menu (sharpened stick)\n# - - The Bench/Assembly menu (Dowsing rod)\n\n\ndef\
    \ start_pass\n  if @stack_done.nil?\n    swidth = screen_size.width\n    sheight\
    \ = screen_size.height\n    y_stack = sheight - 10\n    x_stack = 10\n\n    #\
    \ Move the bench/assembly menu\n    @dowse_win = PinnableWindow.from_point(x_stack,\
    \ y_stack)\n    tgt = Point.new((swidth * 0.6).to_i, (sheight * 0.3).to_i)\n \
    \   @dowse_win.drag_to(tgt)\n    \n    # Move the carving menu\n    @carve_win\
    \ = PinnableWindow.from_point(x_stack, y_stack)\n    tgt = Point.new((swidth *\
    \ 0.6).to_i, (sheight * 0.5).to_i)\n    @carve_win.drag_to(tgt)\n    \n    @piler\
    \ = Piler.new\n    @done_windows = @piler.pile_stack(x_stack, y_stack)\n    @done_windows.reverse!\n\
    \n    @stack_done = true\n\n  end\n  @windows = @done_windows\n  @done_windows\
    \ = []\n  @piler.swap\nend\n\ndef carve\n  stat_wait :foc\n  @carve_win.click_on('Carve\
    \ a Sharpened')\nend\n\ndef assemble\n  stat_wait :foc\n  @dowse_win.click_on('Make\
    \ a Wooden')\nend\n\ndef collect\n  w = @windows.shift\n  @done_windows << w\n\
    \  w.refresh\n  @piler.pile w\n  loop do\n    break if w.read_text.include? 'Collect'\n\
    \    sleep 0.2\n    w.refresh\n  end\n  while w.click_on 'Collect'\n    w.refresh\n\
    \    sleep 0.2\n  end\nend\n"
  repeat: Repeat
  path: |2+

    start_pass

    3721, -5427
    3701, -5454
    3702, -5466
    collect
    collect
    carve

    3702, -5469
    collect
    collect
    3703, -5473
    collect
    collect
    3703, -5477
    collect
    collect
    3703, -5481
    carve
    collect
    collect
    3703, -5485
    collect
    collect
    3703, -5490
    collect
    collect
    3703, -5493
    collect
    collect


    # Return to bench
    3702, -5453
    3721, -5428
    assemble


  path.custom_text_0: collect
  path.custom_text_1: ''
